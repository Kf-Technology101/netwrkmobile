<ion-header>
  <p ion-text text-center color="white">Netwrk</p>
</ion-header>

<ion-content class="connect arealist">

    <!--Loader on swap-->
    <ion-refresher (ionRefresh)="refreshChat($event)">
    <ion-refresher-content pullingIcon="arrow-dropdown" refreshingSpinner="ios"></ion-refresher-content>
    </ion-refresher>

    <!--Follow line Info-->
    <ion-row align-items-center>
        <ion-col text-center>
            <h1 ion-text color="bk">Hello, here are the connectors and networks near you. Tap
                <button ion-button color="bk" class="ion-netwrk-btn">
                    <ion-icon ios="ios-add" md="md-add"></ion-icon>
                </button>
                to follow them.
            </h1>
        </ion-col>
    </ion-row>

    <!--Network Line List-->
    <ion-row>
        <ion-col>
            <ion-list>
                <ion-item class="item-line" *ngIf="chatPrvd.postMessages.length == 0 && (!isUndercover || chatPrvd.isLobbyChat)"
                class="no-data-message abs">There are no networks near you.</ion-item>

                <ion-item class="item-line" *ngFor="let message of chatPrvd.postMessages"  [ngClass]="{ 'isFollowed' : message.isFollowed }">
                    <ion-avatar item-start>
                        <img *ngIf="message.user" (press)="chatPrvd.goToProfile(message.user_id, message.public)"
                        [src]="message.public ? message.user.avatar_url : message.user.hero_avatar_url" class="chat-avatar" (error)="chatPrvd.updateAvatarUrl($event)">

                        <img *ngIf="!message.user" (press)="goToProfile(message.user_id, message.public)" (tap)="openLobbyForPinned(message)"
                        [src]="toolsPrvd.defaultAvatar" class="chat-avatar" (error)="chatPrvd.updateAvatarUrl($event)">
                    </ion-avatar>

                    <h2 class="total-line-point"><span>Point: {{message.points}}</span>, <span> <span *ngIf="message.users_count">{{message.users_count}}</span> <span *ngIf="!message.users_count">0</span> Number of people in net</span></h2>
                    <p class="line-name">{{message.text}}</p>
                    <p class="line-area">San francisco</p>
                    <button ion-button class="ion-netwrk-btn" color="bk" item-end (click)="followNearByNetwork(message)" *ngIf="chatPrvd.currentLobby.isAddButtonAvailable">
                        <ion-icon ios="ios-add" md="md-add"></ion-icon>
                    </button>
                </ion-item>
            </ion-list>
        </ion-col>
    </ion-row>

    <!--Infinite Loader on bottom scroll-->
    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
        <ion-infinite-scroll-content></ion-infinite-scroll-content>
    </ion-infinite-scroll>
</ion-content>


<ion-footer>
  <button ion-button color="bk" class="main-action-btn medium transparent" outline (click)="closeModal()">
       <ion-icon ios="ios-arrow-back-outline" md="ios-arrow-back-outline"></ion-icon>
  </button>
</ion-footer>
