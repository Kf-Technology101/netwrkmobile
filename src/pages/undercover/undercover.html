<ion-header class="incognito-header" isScrolling="false">
  <ion-toolbar>
    <div class="drag-container">
      <div class="dragline">
        <span class="info">
          <span class="username">{{ user.name }}</span>
        </span>
        <ion-icon ios="ios-log-out" md="ios-log-out"></ion-icon>
        <img class="draggable-element" src="{{ user.imageUrl }}" (tap)="goToProfile()">
      </div>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content has-main-btn has-main-btn-label>

</ion-content>

<ion-footer class="has-input chatFooter">
  <div #galleryCont item-content  class="gallery-container" [hidden]="galleryContainer.hidden" [@galleryState]="galleryContainer.state">
    <ion-img *ngFor="let imgSrc of imagesSrc" [src]="imgSrc" [style.height.px]="galleryContainer.imgHeight"></ion-img>
  </div>

  <div #emojiCont item-content class="gallery-container emoji-container" [hidden]="emojiContainer.hidden" [@galleryState]="emojiContainer.state">
    <span item-content *ngFor="let emoji of emojis" (tap)="insertEmoji(emoji)" class="emoji-item"> {{ convertEmoji(emoji) }} </span>
  </div>

  <div #shareCont item-content class="gallery-container share-container" [hidden]="shareContainer.hidden" [@galleryState]="shareContainer.state">
    <ion-toolbar>
      <div class="slide-container sl-facebook">
        <div #slfb [ngClass]="{'active': checkbox.facebook}" class="toggle-el" (tap)="toggleShareSlider('facebook')">
          <span class="toggle-state" *ngIf="checkbox.facebook">on</span>
          <span class="toggle-state" *ngIf="!checkbox.facebook">off</span>
          <div [ngClass]="{'right': checkbox.facebook}" class="toggleable">
            <ion-icon ios="logo-facebook" md="logo-facebook"></ion-icon>
          </div>
          <input type="checkbox" [checked]="checkbox.facebook">
        </div>
      </div>

      <div class="slide-container sl-linkedin">
        <div #slln [ngClass]="{'active': checkbox.linkedin}" class="toggle-el" (tap)="toggleShareSlider('linkedin')">
          <span class="toggle-state" *ngIf="checkbox.linkedin">on</span>
          <span class="toggle-state" *ngIf="!checkbox.linkedin">off</span>
          <div [ngClass]="{'right': checkbox.linkedin}" class="toggleable">
            <ion-icon ios="logo-linkedin" md="logo-linkedin"></ion-icon>
          </div>
          <input type="checkbox" [checked]="checkbox.linkedin">
        </div>
      </div>

      <div class="slide-container sl-twitter">
        <div #sltw [ngClass]="{'active': checkbox.twitter}" class="toggle-el" (tap)="toggleShareSlider('twitter')">
          <span class="toggle-state" *ngIf="checkbox.twitter">on</span>
          <span class="toggle-state" *ngIf="!checkbox.twitter">off</span>
          <div [ngClass]="{'right': checkbox.twitter}" class="toggleable">
            <ion-icon ios="logo-twitter" md="logo-twitter"></ion-icon>
          </div>
          <input type="checkbox" [checked]="checkbox.twitter">
        </div>
      </div>

    </ion-toolbar>
  </div>

  <button isScrolling="false" tapable [hidden]="mainBtn.hidden" [@mainBtnState]="mainBtn.state" color="bk"
  class="main-action-btn has-footer transparent chatMainBtn"></button>

  <ion-item class="text" #inputItem [@fadeState]="mainInput.state" [hidden]="mainInput.hidden">
    <div item-content id="textInpBtns" [@bgState]="bgState.state">
      <button ion-button [@inputState]="chatBtns.state[0]" (tap)="openCamera()">
        <ion-icon ios="ios-camera-outline" md="ios-camera-outline"></ion-icon>
      </button>
      <button ion-button [@inputState]="chatBtns.state[1]" (tap)="toggleContainer(galleryContainer); toggleChatOptions()">
         <ion-icon ios="ios-image-outline" md="ios-image-outline"></ion-icon>
      </button>
      <button ion-button [@inputState]="chatBtns.state[2]" (tap)="toggleContainer(shareContainer); toggleChatOptions()">
        <ion-icon ios="ios-redo" md="ios-redo"></ion-icon>
      </button>
      <button ion-button [@inputState]="chatBtns.state[3]" (tap)="toggleContainer(emojiContainer); toggleChatOptions()">
        <ion-icon ios="ios-happy-outline" md="ios-happy-outline"></ion-icon>
      </button>
      <button ion-button [@inputState]="chatBtns.state[4]"></button>
    </div>

    <button ion-button (tap)="toggleChatOptions(); toggleContainer(galleryContainer, 'hide'); toggleContainer(emojiContainer, 'hide'); toggleContainer(shareContainer, 'hide')" [@rotState]="chatOptions.state" ion-button item-left clear id="plus-btn">
      <ion-icon ios="ios-add" md="ios-add"></ion-icon>
    </button>

    <input #textInput id="textInput" type="text" placeholder="On this spot..." (tap)="getCaretPos(textInput)" (keyup)="getCaretPos(textInput)">
    <!-- <div #textInput id="textInput" type="textShortMessage" contenteditable=""></div> -->

    <button ion-button item-right clear (tap)="sendMessage()">
      <ion-icon ios="ios-text-outline" md="ios-text-outline"></ion-icon>
    </button>
  </ion-item>
</ion-footer>
